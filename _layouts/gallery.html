---
layout: default
---
<link rel="stylesheet" href={{ "/assets/js/photoswipe.css" | relative_url }}>
<script type="module">

import PhotoSwipeLightbox from "{{ '/assets/js/photoswipe-lightbox.esm.min.js' | relative_url }}";

const options = {
  gallery: '#gallery',
  children: 'a',
  pswpModule: () => import("{{ '/assets/js/photoswipe.esm.min.js' | relative_url }}")
};

const lightbox = new PhotoSwipeLightbox(options);
lightbox.on('uiRegister', function() {
  lightbox.pswp.ui.registerElement({
    name: 'custom-caption',
    order: 9,
    isButton: false,
    appendTo: 'root',
    html: 'Caption text',
    onInit: (el, pswp) => {
      lightbox.pswp.on('change', () => {
        const currSlideElement = lightbox.pswp.currSlide.data.element;
        let captionHTML = '';
        if (currSlideElement) {
          captionHTML = currSlideElement.querySelector('img').getAttribute('alt');
        }
        el.innerHTML = captionHTML || '';
      });
    }
  });
});

lightbox.init();

</script>

<h2>{{ page.title }}</h2>
<div class="pswp-gallery pswp-gallery--single-column" id="gallery">
{% for image in page.images %}
<a href="/.netlify/images?url={{ image.url | relative_url }}&w=2040" 
    data-pswp-width="2040" 
    data-pswp-height="1536" 
    data-cropped="true" 
    target="_blank">
    <img src="/.netlify/images?url={{ image.url | relative_url }}&w=200" alt="{{ image.caption }}" />
</a>
{% endfor %}
</div>
